#################################################
#
#  BASIC Setting
#

#  256 è‰²ç«¯æœ«ã‚’ä½¿ç”¨ã™ã‚‹
set -g default-terminal 'screen-256color'
set -g terminal-overrides 'xterm:colors=256'

#
#  Prefix ã‚­ãƒ¼ã‚’ Ctrl-b ã‹ã‚‰ Ctrl-t ã«å¤‰æ›´
#
set -g prefix C-t
unbind C-b

set -g base-index 1         # ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ç•ªå·ã‚’ 1 ã‹ã‚‰é–‹å§‹
setw -g pane-base-index 1   # ãƒšã‚¤ãƒ³ã®ç•ªå·ã‚’ 1 ã‹ã‚‰é–‹å§‹

set-option -g renumber-windows on   # ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ãŸæ™‚ã«ç•ªå·ã‚’è©°ã‚ã‚‹

set -s escape-time 0
set-option -g mouse on

# messageè¡¨ç¤ºæ™‚ã®status lineã®è‰²ã€‚dispaly,confirm-before -p ãªã©ã®ã‚³ãƒãƒ³ãƒ‰å‡ºåŠ›ã®è‰²
set -g message-style fg=colour68,reverse,bg=brightwhite

# paneã‚’åŒºåˆ‡ã£ã¦ã„ã‚‹ç·šã®è‰²
set -g pane-active-border-style fg=colour111,bg=colour236
set -g pane-border-style fg=colour111,bg=colour236

#################################################
#
#  KEY BINDING Setting
#

#  Prefix + vim ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã§ãƒšã‚¤ãƒ³ã‚’ç§»å‹•ã™ã‚‹
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

#  Prefix + vim ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã§ãƒšã‚¤ãƒ³ã‚’ãƒªã‚µã‚¤ã‚ºã™ã‚‹
bind -r H resize-pane -L 5
bind -r J resize-pane -D
bind -r K resize-pane -U
bind -r L resize-pane -R 5

#  vimã®ã‚³ãƒ”ãƒ¼ã‚’é©ç”¨
setw -g mode-keys vi
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'C-v' send -X rectangle-toggle
bind-key -T copy-mode-vi 'y' send -X copy-selection

#  Ctrl-o ã§ãƒšã‚¤ãƒ³ã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ãªãŒã‚‰ç§»å‹•
bind -n C-o select-pane -t :.+

bind -r C-h select-window -t :-     # Prefix + Ctrl-h ã§ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦åˆ‡ã‚Šæ›¿ãˆ
bind -r C-l select-window -t :+     # Prefix + Ctrl-l ã§ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦åˆ‡ã‚Šæ›¿ãˆ

bind | split-window -h -c '#{pane_current_path}'    # Prefix + | ã§ãƒšã‚¤ãƒ³ã‚’å‚ç›´åˆ†å‰²ã™ã‚‹
bind - split-window -v -c '#{pane_current_path}'    # Prefix + - ã§ãƒšã‚¤ãƒ³ã‚’æ°´å¹³åˆ†å‰²ã™ã‚‹


# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªãƒ­ãƒ¼ãƒ‰
bind-key -T prefix r source-file ~/.config/tmux/tmux.conf \; display-message 'Reloard was successful.'

# switch panes using Alt-arrow without prefix
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

#################################################
#
#  STATUS BAR Setting
#

set-option -g status-position top       # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã‚’ãƒˆãƒƒãƒ—ã«é…ç½®ã™ã‚‹
set -g status-interval 1                # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼æ›´æ–°é€Ÿåº¦ 15s(default) â†’ 1s

#  Length
set -g status-left-length 90
set -g status-right-length 90

#  Contents
set -g status-fg 'brightwhite'  # ForeGround_Color
set -g status-bg 'colour238'    # BackGround_Color

#  left:ãƒã‚·ãƒ³å[ãƒšã‚¤ãƒ³ç•ªå·]
set -g status-left '#[fg=brightwhite, bg=colour111, bold] #S #[fg=colour111, bg=colour238]î‚°'

#  right: ãƒãƒƒãƒ†ãƒªãƒ¼æƒ…å ± ipaddress tmuxã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
set -g status-right '#{prefix_highlight}#[fg=colour111, bg=colour238]î‚²#[fg=brightwhite, bg=colour111, bold] #{battery_percentage}ğŸ”‹#[fg=colour238, bg=colour111] î‚²#[fg=colour111, bg=colour238]î‚²#[fg=brightwhite, bg=colour111, bold]#(~/.config/tmux/.tmux/bin/gip)#[fg=colour238, bg=colour111] î‚²#[fg=colour111, bg=colour238]î‚²#[fg=brightwhite, bg=colour111]#(~/.config/tmux/.tmux/bin/print_ip) '

# Window Status
setw -g window-status-separator "" # windowé–“ã®éš™é–“ã‚’æ’é™¤
set-option -g status-justify 'left'   # window-status ã‚’å·¦å¯„ã›
# éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
setw -g window-status-format '#[fg=colour238, bg=brightblack]î‚°#[fg=brightwhite, bg=brightblack, bold] #W #[fg=brightblack, bg=colour238]î‚°'
# ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
setw -g window-status-current-format '#[fg=colour238, bg=colour68]î‚°#[fg=brightwhite, bg=colour68, bold] #W #[fg=colour68, bg=colour238]î‚°'

#################################################
#
#  PANE Setting
#

#  ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãƒšã‚¤ãƒ³
set -g window-style 'fg=white, bg=colour240'

#  ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒšã‚¤ãƒ³
set -g window-active-style 'fg=white, bg=colour236'

#################################################
#
#  PLUGIN Setting
#

# Key bindings
# prefix + I: Installs new plugins from GitHub or any other git repository
# prefix + U: updates plugin(s)
# prefix + option + u: remove/uninstall plugins not on the plugin list

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-battery'  # https://github.com/tmux-plugins/tmux-battery
#set -g @plugin 'tmux-plugins/tmux-online-status'  # https://github.com/tmux-plugins/tmux-online-status
# set -g @plugin 'tmux-plugins/tmux-sidebar' # https://github.com/tmux-plugins/tmux-sidebar
set -g @plugin 'tmux-plugins/tmux-resurrect' # https://github.com/tmux-plugins/tmux-resurrect
set -g @plugin 'tmux-plugins/tmux-continuum' # https://github.com/tmux-plugins/tmux-continuum

set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @prefix_highlight_fg 'colour111'
set -g @prefix_highlight_bg 'colour238'

# https://github.com/tmux-plugins/tpm
# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.config/tmux/plugins/tpm/tpm'


